<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üß™ Smoke Test - WireMock UI</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 20px;
            background: #f5f5f5;
        }
        .test-container {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        .test-title {
            color: #2c3e50;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
            margin-bottom: 15px;
        }
        .test-case {
            margin: 15px 0;
            padding: 10px;
            border-left: 4px solid #3498db;
            background: #f8f9fa;
        }
        .test-status {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: bold;
            margin-left: 10px;
        }
        .pass { background: #d4edda; color: #155724; }
        .fail { background: #f8d7da; color: #721c24; }
        .pending { background: #fff3cd; color: #856404; }
        .test-button {
            background: #3498db;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
        }
        .test-button:hover {
            background: #2980b9;
        }
        .results {
            margin-top: 20px;
            padding: 15px;
            border-radius: 4px;
            background: #e9ecef;
        }
        .iframe-container {
            width: 100%;
            height: 600px;
            border: 1px solid #ddd;
            border-radius: 4px;
            margin-top: 15px;
        }
    </style>
</head>
<body>
    <h1>üß™ Smoke Test - WireMock UI Refactoring</h1>
    
    <div class="test-container">
        <h2 class="test-title">üìã –¢–µ—Å—Ç–æ–≤—ã–π –ø–ª–∞–Ω</h2>
        <div class="test-case">
            <strong>üéØ –¶–µ–ª—å:</strong> –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã UI –ø–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞
        </div>
        <div class="test-case">
            <strong>üîß –ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä—É–µ–º:</strong>
            <ul>
                <li>–ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤ –∏ endpoints</li>
                <li>NotificationManager —Å –æ—á–µ—Ä–µ–¥—å—é —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π</li>
                <li>TabManager –¥–ª—è —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–∫–ª–∞–¥–∫–∞–º–∏</li>
                <li>–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Ñ–∏–ª—å—Ç—Ä–æ–≤</li>
                <li>–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –≤–∫–ª–∞–¥–∫–∞–º–∏</li>
            </ul>
        </div>
    </div>

    <div class="test-container">
        <h2 class="test-title">üöÄ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã</h2>
        
        <div class="test-case">
            <strong>Test 1: –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤</strong>
            <span id="test1-status" class="test-status pending">PENDING</span>
            <br><small>–ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ –≤—Å–µ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –≤ SELECTORS –æ–±—ä–µ–∫—Ç–µ</small>
        </div>
        
        <div class="test-case">
            <strong>Test 2: –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã endpoints</strong>
            <span id="test2-status" class="test-status pending">PENDING</span>
            <br><small>–ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ –≤—Å–µ endpoints –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –≤ ENDPOINTS –æ–±—ä–µ–∫—Ç–µ</small>
        </div>
        
        <div class="test-case">
            <strong>Test 3: NotificationManager</strong>
            <span id="test3-status" class="test-status pending">PENDING</span>
            <br><small>–ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ NotificationManager –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω</small>
        </div>
        
        <div class="test-case">
            <strong>Test 4: TabManager</strong>
            <span id="test4-status" class="test-status pending">PENDING</span>
            <br><small>–ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ TabManager –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω</small>
        </div>
        
        <div class="test-case">
            <strong>Test 5: –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤ - –ø–æ–ª–Ω–æ—Ç–∞</strong>
            <span id="test5-status" class="test-status pending">PENDING</span>
            <br><small>–ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ –≤—Å–µ—Ö –∫–ª—é—á–µ–≤—ã—Ö —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤</small>
        </div>
        
        <div class="test-case">
            <strong>Test 6: NotificationManager - –º–µ—Ç–æ–¥—ã –∏ –æ—á–µ—Ä–µ–¥—å</strong>
            <span id="test6-status" class="test-status pending">PENDING</span>
            <br><small>–ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ –æ—á–µ—Ä–µ–¥–∏ –∏ –≤—Å–µ—Ö –º–µ—Ç–æ–¥–æ–≤</small>
        </div>
        
        <div class="test-case">
            <strong>Test 7: TabManager - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤–∫–ª–∞–¥–æ–∫</strong>
            <span id="test7-status" class="test-status pending">PENDING</span>
            <br><small>–ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –¥–ª—è mappings, requests, scenarios</small>
        </div>
        
        <div class="test-case">
            <strong>Test 8: –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏</strong>
            <span id="test8-status" class="test-status pending">PENDING</span>
            <br><small>–ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ –∫–ª—é—á–µ–≤—ã—Ö –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π</small>
        </div>
        
        <div class="test-case">
            <strong>Test 9: DOM —ç–ª–µ–º–µ–Ω—Ç—ã - –æ—Å–Ω–æ–≤–Ω—ã–µ</strong>
            <span id="test9-status" class="test-status pending">PENDING</span>
            <br><small>–ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ –∫–ª—é—á–µ–≤—ã—Ö DOM —ç–ª–µ–º–µ–Ω—Ç–æ–≤</small>
        </div>
        
        <div class="test-case">
            <strong>Test 10: –§—É–Ω–∫—Ü–∏–∏ –æ—á–∏—Å—Ç–∫–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤</strong>
            <span id="test10-status" class="test-status pending">PENDING</span>
            <br><small>–ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ —Ñ—É–Ω–∫—Ü–∏–π clearMappingFilters –∏ clearRequestFilters</small>
        </div>
        
        <div class="test-case">
            <strong>Test 11: –§—É–Ω–∫—Ü–∏—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –º–∞–ø–ø–∏–Ω–≥–æ–≤</strong>
            <span id="test11-status" class="test-status pending">PENDING</span>
            <br><small>–ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ applyFilters –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –º–∞–ø–ø–∏–Ω–≥–æ–≤</small>
        </div>
        
        <div class="test-case">
            <strong>Test 12: –§—É–Ω–∫—Ü–∏—è –æ—á–∏—Å—Ç–∫–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤ –º–∞–ø–ø–∏–Ω–≥–æ–≤</strong>
            <span id="test12-status" class="test-status pending">PENDING</span>
            <br><small>–ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ clearMappingFilters</small>
        </div>
        
        <div class="test-case">
            <strong>Test 13: –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ —Å —Ä–∞–∑–¥–µ–ª—å–Ω—ã–º–∏ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞–º–∏</strong>
            <span id="test13-status" class="test-status pending">PENDING</span>
            <br><small>–ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ originalMappings –∏ allMappings –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏</small>
        </div>
        
        <div class="test-case">
            <strong>Test 14: –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –º–∞–ø–ø–∏–Ω–≥–æ–≤</strong>
            <span id="test14-status" class="test-status pending">PENDING</span>
            <br><small>–ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É –ø–æ priority, –º–µ—Ç–æ–¥—É –∏ URL –≤ fetchAndRenderMappings</small>
        </div>
        
        <div class="test-case">
            <strong>Test 15: –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ WireMock 3.9.1</strong>
            <span id="test15-status" class="test-status pending">PENDING</span>
            <br><small>–ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –ø–∞—Ä—Å–∏–Ω–≥–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ WireMock 3.9.1</small>
        </div>
        
        <div class="test-case">
            <strong>Test 16: –§—É–Ω–∫—Ü–∏—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤</strong>
            <span id="test16-status" class="test-status pending">PENDING</span>
            <br><small>–ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ applyRequestFilters –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤</small>
        </div>
        
        <div class="test-case">
            <strong>Test 17: WireMock 3.9.1+ API Endpoints</strong>
            <span id="test17-status" class="test-status pending">PENDING</span>
            <br><small>–ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö endpoints –¥–ª—è recordings, near-misses, requests/count</small>
        </div>
        
        <div class="test-case">
            <strong>Test 18: –ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ WireMock 3.13.x</strong>
            <span id="test18-status" class="test-status pending">PENDING</span>
            <br><small>–ü—Ä–æ–≤–µ—Ä—è–µ–º —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è unmatched mappings –∏ –ø–æ–∏—Å–∫–∞ –ø–æ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º</small>
        </div>
        
        <div class="test-case">
            <strong>Test 19: Recording API Functions</strong>
            <span id="test19-status" class="test-status pending">PENDING</span>
            <br><small>–ü—Ä–æ–≤–µ—Ä—è–µ–º —Ñ—É–Ω–∫—Ü–∏–∏ startRecording, stopRecording, getRecordingStatus</small>
        </div>
        
        <div class="test-case">
            <strong>Test 20: Near Misses API Functions</strong>
            <span id="test20-status" class="test-status pending">PENDING</span>
            <br><small>–ü—Ä–æ–≤–µ—Ä—è–µ–º —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ–∏—Å–∫–∞ –±–ª–∏–∑–∫–∏—Ö —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π</small>
        </div>
        
        <button class="test-button" onclick="runAutomaticTests()">üîÑ –ó–∞–ø—É—Å—Ç–∏—Ç—å –∞–≤—Ç–æ—Ç–µ—Å—Ç—ã</button>
        
        <div id="test-results" class="results" style="display: none;">
            <h3>üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–æ–≤:</h3>
            <div id="test-output"></div>
        </div>
    </div>

    <div class="test-container">
        <h2 class="test-title">üë§ –†—É—á–Ω—ã–µ —Ç–µ—Å—Ç—ã</h2>
        
        <div class="test-case">
            <strong>Manual Test 1: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ WireMock</strong>
            <br><small>1. –û—Ç–∫—Ä–æ–π—Ç–µ UI –Ω–∏–∂–µ</small>
            <br><small>2. –í–≤–µ–¥–∏—Ç–µ host:port WireMock —Å–µ—Ä–≤–µ—Ä–∞</small>
            <br><small>3. –ù–∞–∂–º–∏—Ç–µ "–ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è"</small>
            <br><small>4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –ø–æ—è–≤–∏–ª–æ—Å—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏</small>
        </div>
        
        <div class="test-case">
            <strong>Manual Test 2: –§–∏–ª—å—Ç—Ä—ã –º–∞–ø–ø–∏–Ω–≥–æ–≤</strong>
            <br><small>1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É "–ú–∞–ø–ø–∏–Ω–≥–∏"</small>
            <br><small>2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ñ–∏–ª—å—Ç—Ä –ø–æ –º–µ—Ç–æ–¥—É (GET/POST)</small>
            <br><small>3. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ—Å—å –Ω–∞ –¥—Ä—É–≥—É—é –≤–∫–ª–∞–¥–∫—É –∏ –≤–µ—Ä–Ω–∏—Ç–µ—Å—å</small>
            <br><small>4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —Ñ–∏–ª—å—Ç—Ä —Å–æ—Ö—Ä–∞–Ω–∏–ª—Å—è</small>
        </div>
        
        <div class="test-case">
            <strong>Manual Test 3: –û—á–∏—Å—Ç–∫–∞ —Ñ–∏–ª—å—Ç—Ä–æ–≤</strong>
            <br><small>1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ñ–∏–ª—å—Ç—Ä–æ–≤</small>
            <br><small>2. –ù–∞–∂–º–∏—Ç–µ "–û—á–∏—Å—Ç–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã"</small>
            <br><small>3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –≤—Å–µ —Ñ–∏–ª—å—Ç—Ä—ã —Å–±—Ä–æ—à–µ–Ω—ã</small>
        </div>
        
        <div class="test-case">
            <strong>Manual Test 4: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</strong>
            <br><small>1. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –¥–µ–π—Å—Ç–≤–∏–π –ø–æ–¥—Ä—è–¥</small>
            <br><small>2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–µ –ø–µ—Ä–µ–∫—Ä—ã–≤–∞—é—Ç—Å—è</small>
            <br><small>3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∏—Å—á–µ–∑–∞—é—Ç —á–µ—Ä–µ–∑ –≤—Ä–µ–º—è</small>
        </div>
    </div>

    <div class="test-container">
        <h2 class="test-title">üñ•Ô∏è WireMock UI –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</h2>
        <iframe src="index.html" class="iframe-container"></iframe>
    </div>

    <script>
        function setTestStatus(testId, status, message = '') {
            const statusEl = document.getElementById(`${testId}-status`);
            statusEl.className = `test-status ${status}`;
            statusEl.textContent = status.toUpperCase();
            if (message) {
                statusEl.title = message;
            }
        }

        async function runAutomaticTests() {
            const resultsDiv = document.getElementById('test-results');
            const outputDiv = document.getElementById('test-output');
            resultsDiv.style.display = 'block';
            outputDiv.innerHTML = '<p>üîÑ –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤...</p>';

            const results = [];

            // Test 1: –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤
            try {
                const iframe = document.querySelector('iframe');
                await new Promise(resolve => {
                    if (iframe.contentDocument.readyState === 'complete') {
                        resolve();
                    } else {
                        iframe.onload = resolve;
                    }
                });

                const iframeWindow = iframe.contentWindow;
                const SELECTORS = iframeWindow.SELECTORS;
                
                if (SELECTORS && typeof SELECTORS === 'object') {
                    const requiredKeys = ['PAGES', 'LISTS', 'MAPPING_FILTERS', 'BUTTONS'];
                    const hasAllKeys = requiredKeys.every(key => SELECTORS[key]);
                    
                    if (hasAllKeys) {
                        setTestStatus('test1', 'pass', '–í—Å–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤ –Ω–∞–π–¥–µ–Ω—ã');
                        results.push('‚úÖ Test 1: PASS - –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã');
                    } else {
                        setTestStatus('test1', 'fail', '–û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã');
                        results.push('‚ùå Test 1: FAIL - –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤');
                    }
                } else {
                    setTestStatus('test1', 'fail', 'SELECTORS –æ–±—ä–µ–∫—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω');
                    results.push('‚ùå Test 1: FAIL - SELECTORS –æ–±—ä–µ–∫—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω');
                }
            } catch (e) {
                setTestStatus('test1', 'fail', e.message);
                results.push(`‚ùå Test 1: FAIL - ${e.message}`);
            }

            // Test 2: –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã endpoints
            try {
                const iframe = document.querySelector('iframe');
                const iframeWindow = iframe.contentWindow;
                const ENDPOINTS = iframeWindow.ENDPOINTS;
                
                if (ENDPOINTS && typeof ENDPOINTS === 'object') {
                    const requiredEndpoints = ['MAPPINGS', 'REQUESTS', 'SCENARIOS'];
                    const hasAllEndpoints = requiredEndpoints.every(key => ENDPOINTS[key]);
                    
                    if (hasAllEndpoints) {
                        setTestStatus('test2', 'pass', '–í—Å–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã endpoints –Ω–∞–π–¥–µ–Ω—ã');
                        results.push('‚úÖ Test 2: PASS - –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã endpoints –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã');
                    } else {
                        setTestStatus('test2', 'fail', '–û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ endpoints');
                        results.push('‚ùå Test 2: FAIL - –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã endpoints');
                    }
                } else {
                    setTestStatus('test2', 'fail', 'ENDPOINTS –æ–±—ä–µ–∫—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω');
                    results.push('‚ùå Test 2: FAIL - ENDPOINTS –æ–±—ä–µ–∫—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω');
                }
            } catch (e) {
                setTestStatus('test2', 'fail', e.message);
                results.push(`‚ùå Test 2: FAIL - ${e.message}`);
            }

            // Test 3: NotificationManager
            try {
                const iframe = document.querySelector('iframe');
                const iframeWindow = iframe.contentWindow;
                const NotificationManager = iframeWindow.NotificationManager;
                
                if (NotificationManager && typeof NotificationManager === 'object') {
                    const requiredMethods = ['success', 'error', 'info', 'warning'];
                    const hasAllMethods = requiredMethods.every(method => 
                        typeof NotificationManager[method] === 'function'
                    );
                    
                    if (hasAllMethods) {
                        setTestStatus('test3', 'pass', 'NotificationManager –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω');
                        results.push('‚úÖ Test 3: PASS - NotificationManager –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω');
                    } else {
                        setTestStatus('test3', 'fail', '–û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –º–µ—Ç–æ–¥—ã NotificationManager');
                        results.push('‚ùå Test 3: FAIL - –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –º–µ—Ç–æ–¥—ã NotificationManager');
                    }
                } else {
                    setTestStatus('test3', 'fail', 'NotificationManager –Ω–µ –Ω–∞–π–¥–µ–Ω');
                    results.push('‚ùå Test 3: FAIL - NotificationManager –Ω–µ –Ω–∞–π–¥–µ–Ω');
                }
            } catch (e) {
                setTestStatus('test3', 'fail', e.message);
                results.push(`‚ùå Test 3: FAIL - ${e.message}`);
            }

            // Test 4: TabManager
            try {
                const iframe = document.querySelector('iframe');
                const iframeWindow = iframe.contentWindow;
                const TabManager = iframeWindow.TabManager;
                
                if (TabManager && typeof TabManager === 'object') {
                    const requiredMethods = ['refresh', 'clearFilters'];
                    const hasAllMethods = requiredMethods.every(method => 
                        typeof TabManager[method] === 'function'
                    );
                    
                    if (hasAllMethods && TabManager.configs) {
                        setTestStatus('test4', 'pass', 'TabManager –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω');
                        results.push('‚úÖ Test 4: PASS - TabManager –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω');
                    } else {
                        setTestStatus('test4', 'fail', '–û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –º–µ—Ç–æ–¥—ã –∏–ª–∏ –∫–æ–Ω—Ñ–∏–≥ TabManager');
                        results.push('‚ùå Test 4: FAIL - –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –º–µ—Ç–æ–¥—ã TabManager');
                    }
                } else {
                    setTestStatus('test4', 'fail', 'TabManager –Ω–µ –Ω–∞–π–¥–µ–Ω');
                    results.push('‚ùå Test 4: FAIL - TabManager –Ω–µ –Ω–∞–π–¥–µ–Ω');
                }
            } catch (e) {
                setTestStatus('test4', 'fail', e.message);
                results.push(`‚ùå Test 4: FAIL - ${e.message}`);
            }

            // Test 5: –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤ - –ø–æ–ª–Ω–æ—Ç–∞
            try {
                const iframe = document.querySelector('iframe');
                const iframeWindow = iframe.contentWindow;
                const SELECTORS = iframeWindow.SELECTORS;
                
                if (SELECTORS && typeof SELECTORS === 'object') {
                    const allRequiredKeys = ['PAGES', 'REQUEST_FILTERS', 'MAPPING_FILTERS', 'LISTS', 'LOADING', 'EMPTY', 'CONNECTION', 'MODAL', 'FORM_FIELDS', 'BUTTONS'];
                    const hasAllKeys = allRequiredKeys.every(key => SELECTORS[key]);
                    
                    if (hasAllKeys) {
                        setTestStatus('test5', 'pass', '–í—Å–µ –∫–ª—é—á–µ–≤—ã–µ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã –Ω–∞–π–¥–µ–Ω—ã');
                        results.push('‚úÖ Test 5: PASS - –ü–æ–ª–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤');
                    } else {
                        const missingKeys = allRequiredKeys.filter(key => !SELECTORS[key]);
                        setTestStatus('test5', 'fail', `–û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç: ${missingKeys.join(', ')}`);
                        results.push('‚ùå Test 5: FAIL - –ù–µ–ø–æ–ª–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤');
                    }
                } else {
                    setTestStatus('test5', 'fail', 'SELECTORS –æ–±—ä–µ–∫—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω');
                    results.push('‚ùå Test 5: FAIL - SELECTORS –æ–±—ä–µ–∫—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω');
                }
            } catch (e) {
                setTestStatus('test5', 'fail', e.message);
                results.push(`‚ùå Test 5: FAIL - ${e.message}`);
            }

            // Test 6: NotificationManager - –º–µ—Ç–æ–¥—ã –∏ –æ—á–µ—Ä–µ–¥—å
            try {
                const iframe = document.querySelector('iframe');
                const iframeWindow = iframe.contentWindow;
                const NotificationManager = iframeWindow.NotificationManager;
                
                if (NotificationManager && typeof NotificationManager === 'object') {
                    const requiredMethods = ['success', 'error', 'info', 'warning', 'show', 'processQueue'];
                    const hasAllMethods = requiredMethods.every(method => 
                        typeof NotificationManager[method] === 'function'
                    );
                    const hasQueue = Array.isArray(NotificationManager.queue);
                    const hasTypes = NotificationManager.TYPES && typeof NotificationManager.TYPES === 'object';
                    
                    if (hasAllMethods && hasQueue && hasTypes) {
                        setTestStatus('test6', 'pass', 'NotificationManager –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω');
                        results.push('‚úÖ Test 6: PASS - NotificationManager —Å –æ—á–µ—Ä–µ–¥—å—é –∏ —Ç–∏–ø–∞–º–∏');
                    } else {
                        setTestStatus('test6', 'fail', '–û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –º–µ—Ç–æ–¥—ã, –æ—á–µ—Ä–µ–¥—å –∏–ª–∏ —Ç–∏–ø—ã');
                        results.push('‚ùå Test 6: FAIL - –ù–µ–ø–æ–ª–Ω—ã–π NotificationManager');
                    }
                } else {
                    setTestStatus('test6', 'fail', 'NotificationManager –Ω–µ –Ω–∞–π–¥–µ–Ω');
                    results.push('‚ùå Test 6: FAIL - NotificationManager –Ω–µ –Ω–∞–π–¥–µ–Ω');
                }
            } catch (e) {
                setTestStatus('test6', 'fail', e.message);
                results.push(`‚ùå Test 6: FAIL - ${e.message}`);
            }

            // Test 7: TabManager - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤–∫–ª–∞–¥–æ–∫
            try {
                const iframe = document.querySelector('iframe');
                const iframeWindow = iframe.contentWindow;
                const TabManager = iframeWindow.TabManager;
                
                if (TabManager && TabManager.configs) {
                    const requiredTabs = ['mappings', 'requests', 'scenarios'];
                    const hasAllTabs = requiredTabs.every(tab => TabManager.configs[tab]);
                    
                    if (hasAllTabs) {
                        // –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ —É –∫–∞–∂–¥–æ–π –≤–∫–ª–∞–¥–∫–∏ –µ—Å—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞
                        const tabsValid = requiredTabs.every(tab => {
                            const config = TabManager.configs[tab];
                            return config.name && config.loadFunction;
                        });
                        
                        if (tabsValid) {
                            setTestStatus('test7', 'pass', '–í—Å–µ –≤–∫–ª–∞–¥–∫–∏ —Å–∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞–Ω—ã');
                            results.push('‚úÖ Test 7: PASS - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤–∫–ª–∞–¥–æ–∫ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞');
                        } else {
                            setTestStatus('test7', 'fail', '–ù–µ–ø–æ–ª–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤–∫–ª–∞–¥–æ–∫');
                            results.push('‚ùå Test 7: FAIL - –ù–µ–ø–æ–ª–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤–∫–ª–∞–¥–æ–∫');
                        }
                    } else {
                        setTestStatus('test7', 'fail', '–û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –≤–∫–ª–∞–¥–∫–∏');
                        results.push('‚ùå Test 7: FAIL - –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –≤–∫–ª–∞–¥–∫–∏');
                    }
                } else {
                    setTestStatus('test7', 'fail', 'TabManager.configs –Ω–µ –Ω–∞–π–¥–µ–Ω');
                    results.push('‚ùå Test 7: FAIL - TabManager.configs –Ω–µ –Ω–∞–π–¥–µ–Ω');
                }
            } catch (e) {
                setTestStatus('test7', 'fail', e.message);
                results.push(`‚ùå Test 7: FAIL - ${e.message}`);
            }

            // Test 8: –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
            try {
                const iframe = document.querySelector('iframe');
                const iframeWindow = iframe.contentWindow;
                
                const requiredFunctions = ['connectToWireMock', 'refreshRequests', 'refreshScenarios', 'deleteMapping', 'importMappings', 'exportMappings'];
                const existingFunctions = requiredFunctions.filter(func => 
                    typeof iframeWindow[func] === 'function'
                );
                
                if (existingFunctions.length >= 4) { // –ú–∏–Ω–∏–º—É–º 4 –∏–∑ 6 —Ñ—É–Ω–∫—Ü–∏–π
                    setTestStatus('test8', 'pass', `–ù–∞–π–¥–µ–Ω–æ ${existingFunctions.length}/${requiredFunctions.length} —Ñ—É–Ω–∫—Ü–∏–π`);
                    results.push('‚úÖ Test 8: PASS - –ö–ª—é—á–µ–≤—ã–µ –≥–ª–æ–±–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–∞–π–¥–µ–Ω—ã');
                } else {
                    setTestStatus('test8', 'fail', `–ù–∞–π–¥–µ–Ω–æ —Ç–æ–ª—å–∫–æ ${existingFunctions.length}/${requiredFunctions.length} —Ñ—É–Ω–∫—Ü–∏–π`);
                    results.push('‚ùå Test 8: FAIL - –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π');
                }
            } catch (e) {
                setTestStatus('test8', 'fail', e.message);
                results.push(`‚ùå Test 8: FAIL - ${e.message}`);
            }

            // Test 9: DOM —ç–ª–µ–º–µ–Ω—Ç—ã - –æ—Å–Ω–æ–≤–Ω—ã–µ
            try {
                const iframe = document.querySelector('iframe');
                const iframeDocument = iframe.contentDocument;
                
                const requiredElements = ['mappings-list', 'requests-list', 'scenarios-list', 'wiremock-host', 'wiremock-port'];
                const existingElements = requiredElements.filter(id => 
                    iframeDocument.getElementById(id) !== null
                );
                
                if (existingElements.length >= 5) { // –ú–∏–Ω–∏–º—É–º 5 –∏–∑ 6 —ç–ª–µ–º–µ–Ω—Ç–æ–≤
                    setTestStatus('test9', 'pass', `–ù–∞–π–¥–µ–Ω–æ ${existingElements.length}/${requiredElements.length} —ç–ª–µ–º–µ–Ω—Ç–æ–≤`);
                    results.push('‚úÖ Test 9: PASS - –û—Å–Ω–æ–≤–Ω—ã–µ DOM —ç–ª–µ–º–µ–Ω—Ç—ã –Ω–∞–π–¥–µ–Ω—ã');
                } else {
                    setTestStatus('test9', 'fail', `–ù–∞–π–¥–µ–Ω–æ —Ç–æ–ª—å–∫–æ ${existingElements.length}/${requiredElements.length} —ç–ª–µ–º–µ–Ω—Ç–æ–≤`);
                    results.push('‚ùå Test 9: FAIL - –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ DOM —ç–ª–µ–º–µ–Ω—Ç–æ–≤');
                }
            } catch (e) {
                setTestStatus('test9', 'fail', e.message);
                results.push(`‚ùå Test 9: FAIL - ${e.message}`);
            }

            // Test 10: –§—É–Ω–∫—Ü–∏–∏ –æ—á–∏—Å—Ç–∫–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤
            try {
                const iframe = document.querySelector('iframe');
                const iframeWindow = iframe.contentWindow;
                
                const clearMappingFilters = typeof iframeWindow.clearMappingFilters === 'function';
                const clearRequestFilters = typeof iframeWindow.clearRequestFilters === 'function';
                
                if (clearMappingFilters && clearRequestFilters) {
                    setTestStatus('test10', 'pass', '–û–±–µ —Ñ—É–Ω–∫—Ü–∏–∏ –æ—á–∏—Å—Ç–∫–∏ –Ω–∞–π–¥–µ–Ω—ã');
                    results.push('‚úÖ Test 10: PASS - –§—É–Ω–∫—Ü–∏–∏ –æ—á–∏—Å—Ç–∫–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤ –Ω–∞–π–¥–µ–Ω—ã');
                } else {
                    const missing = [];
                    if (!clearMappingFilters) missing.push('clearMappingFilters');
                    if (!clearRequestFilters) missing.push('clearRequestFilters');
                    setTestStatus('test10', 'fail', `–û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç: ${missing.join(', ')}`);
                    results.push('‚ùå Test 10: FAIL - –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç —Ñ—É–Ω–∫—Ü–∏–∏ –æ—á–∏—Å—Ç–∫–∏');
                }
            } catch (e) {
                setTestStatus('test10', 'fail', e.message);
                results.push(`‚ùå Test 10: FAIL - ${e.message}`);
            }

            // –°—Ç–∞—Ä—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–π —É–±—Ä–∞–Ω—ã - —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ç–æ–ª—å–∫–æ —Ç–µ—Å—Ç—ã –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏

            // Test 11: –§—É–Ω–∫—Ü–∏—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –º–∞–ø–ø–∏–Ω–≥–æ–≤
            try {
                const iframe = document.querySelector('iframe');
                const iframeWindow = iframe.contentWindow;
                const applyFilters = iframeWindow.applyFilters;
                
                if (applyFilters && typeof applyFilters === 'function') {
                    setTestStatus('test11', 'pass', '–§—É–Ω–∫—Ü–∏—è applyFilters –Ω–∞–π–¥–µ–Ω–∞');
                    results.push('‚úÖ Test 11: PASS - –§—É–Ω–∫—Ü–∏—è applyFilters —Å—É—â–µ—Å—Ç–≤—É–µ—Ç');
                } else {
                    setTestStatus('test11', 'fail', '–§—É–Ω–∫—Ü–∏—è applyFilters –Ω–µ –Ω–∞–π–¥–µ–Ω–∞');
                    results.push('‚ùå Test 11: FAIL - –§—É–Ω–∫—Ü–∏—è applyFilters –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç');
                }
            } catch (e) {
                setTestStatus('test11', 'fail', e.message);
                results.push(`‚ùå Test 11: FAIL - ${e.message}`);
            }

            // Test 12: –§—É–Ω–∫—Ü–∏—è –æ—á–∏—Å—Ç–∫–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤ –º–∞–ø–ø–∏–Ω–≥–æ–≤
            try {
                const iframe = document.querySelector('iframe');
                const iframeWindow = iframe.contentWindow;
                const clearMappingFilters = iframeWindow.clearMappingFilters;
                
                if (clearMappingFilters && typeof clearMappingFilters === 'function') {
                    setTestStatus('test12', 'pass', '–§—É–Ω–∫—Ü–∏—è clearMappingFilters –Ω–∞–π–¥–µ–Ω–∞');
                    results.push('‚úÖ Test 12: PASS - –§—É–Ω–∫—Ü–∏—è clearMappingFilters —Å—É—â–µ—Å—Ç–≤—É–µ—Ç');
                } else {
                    setTestStatus('test12', 'fail', '–§—É–Ω–∫—Ü–∏—è clearMappingFilters –Ω–µ –Ω–∞–π–¥–µ–Ω–∞');
                    results.push('‚ùå Test 12: FAIL - –§—É–Ω–∫—Ü–∏—è clearMappingFilters –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç');
                }
            } catch (e) {
                setTestStatus('test12', 'fail', e.message);
                results.push(`‚ùå Test 12: FAIL - ${e.message}`);
            }

            // Test 13: –•—Ä–∞–Ω–∏–ª–∏—â–µ originalMappings
            try {
                const iframe = document.querySelector('iframe');
                const iframeWindow = iframe.contentWindow;
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ –µ—Å—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è originalMappings
                const hasOriginalMappings = 'originalMappings' in iframeWindow;
                const hasAllMappings = 'allMappings' in iframeWindow;
                
                if (hasOriginalMappings && hasAllMappings) {
                    setTestStatus('test13', 'pass', '–•—Ä–∞–Ω–∏–ª–∏—â–∞ originalMappings –∏ allMappings –Ω–∞–π–¥–µ–Ω—ã');
                    results.push('‚úÖ Test 13: PASS - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ —Å —Ä–∞–∑–¥–µ–ª—å–Ω—ã–º–∏ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞–º–∏');
                } else {
                    const missing = [];
                    if (!hasOriginalMappings) missing.push('originalMappings');
                    if (!hasAllMappings) missing.push('allMappings');
                    setTestStatus('test13', 'fail', `–û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç: ${missing.join(', ')}`);
                    results.push('‚ùå Test 13: FAIL - –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –¥–∞–Ω–Ω—ã—Ö');
                }
            } catch (e) {
                setTestStatus('test13', 'fail', e.message);
                results.push(`‚ùå Test 13: FAIL - ${e.message}`);
            }

            // Test 14: –§—É–Ω–∫—Ü–∏—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –º–∞–ø–ø–∏–Ω–≥–æ–≤
            try {
                const iframe = document.querySelector('iframe');
                const iframeWindow = iframe.contentWindow;
                const fetchAndRenderMappings = iframeWindow.fetchAndRenderMappings;
                
                if (fetchAndRenderMappings && typeof fetchAndRenderMappings === 'function') {
                    // –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ –≤ –∫–æ–¥–µ —Ñ—É–Ω–∫—Ü–∏–∏ –µ—Å—Ç—å —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ priority, –º–µ—Ç–æ–¥—É –∏ URL
                    const funcString = fetchAndRenderMappings.toString();
                    const hasPrioritySort = funcString.includes('priority') && funcString.includes('sort');
                    const hasMethodSort = funcString.includes('methodOrder') || funcString.includes('GET') && funcString.includes('POST');
                    const hasUrlSort = funcString.includes('url') && funcString.includes('localeCompare');
                    
                    if (hasPrioritySort && hasMethodSort && hasUrlSort) {
                        setTestStatus('test14', 'pass', '–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ priority, –º–µ—Ç–æ–¥—É –∏ URL –Ω–∞–π–¥–µ–Ω–∞');
                        results.push('‚úÖ Test 14: PASS - –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –º–∞–ø–ø–∏–Ω–≥–æ–≤ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞');
                    } else {
                        const missing = [];
                        if (!hasPrioritySort) missing.push('priority');
                        if (!hasMethodSort) missing.push('method');
                        if (!hasUrlSort) missing.push('URL');
                        setTestStatus('test14', 'fail', `–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ: ${missing.join(', ')}`);
                        results.push('‚ùå Test 14: FAIL - –ù–µ–ø–æ–ª–Ω–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –º–∞–ø–ø–∏–Ω–≥–æ–≤');
                    }
                } else {
                    setTestStatus('test14', 'fail', '–§—É–Ω–∫—Ü–∏—è fetchAndRenderMappings –Ω–µ –Ω–∞–π–¥–µ–Ω–∞');
                    results.push('‚ùå Test 14: FAIL - –§—É–Ω–∫—Ü–∏—è fetchAndRenderMappings –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç');
                }
            } catch (e) {
                setTestStatus('test14', 'fail', e.message);
                results.push(`‚ùå Test 14: FAIL - ${e.message}`);
            }

            // Test 15: –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ WireMock 3.9.1
            try {
                const iframe = document.querySelector('iframe');
                const iframeWindow = iframe.contentWindow;
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ renderRequestCard
                const renderRequestCard = iframeWindow.renderRequestCard;
                
                if (renderRequestCard && typeof renderRequestCard === 'function') {
                    // –°–æ–∑–¥–∞–µ–º —Ç–µ—Å—Ç–æ–≤—ã–π –æ–±—ä–µ–∫—Ç –∑–∞–ø—Ä–æ—Å–∞, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —Å—Ç—Ä—É–∫—Ç—É—Ä–µ WireMock 3.9.1
                    const testRequest = {
                        id: 'test-request-id-123',
                        wasMatched: true,
                        request: {
                            method: 'GET',
                            url: '/api/test',
                            loggedDate: new Date().toISOString(),
                            clientIp: '127.0.0.1'
                        },
                        responseDefinition: {
                            status: 200,
                            jsonBody: { message: 'success' }
                        }
                    };
                    
                    // –ü—ã—Ç–∞–µ–º—Å—è –æ—Ç—Ä–µ–Ω–¥–µ—Ä–∏—Ç—å –∫–∞—Ä—Ç–æ—á–∫—É –∑–∞–ø—Ä–æ—Å–∞
                    const rendered = renderRequestCard(testRequest);
                    
                    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –æ–∂–∏–¥–∞–µ–º—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã
                    const hasMethod = rendered.includes('GET');
                    const hasUrl = rendered.includes('/api/test');
                    const hasStatus = rendered.includes('200');
                    const hasMatchedBadge = rendered.includes('‚úì Matched');
                    
                    if (hasMethod && hasUrl && hasStatus && hasMatchedBadge) {
                        setTestStatus('test15', 'pass', '–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞');
                        results.push('‚úÖ Test 15: PASS - –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ WireMock 3.9.1 –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞');
                    } else {
                        const missing = [];
                        if (!hasMethod) missing.push('method');
                        if (!hasUrl) missing.push('url');
                        if (!hasStatus) missing.push('status');
                        if (!hasMatchedBadge) missing.push('matched badge');
                        setTestStatus('test15', 'fail', `–û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç —ç–ª–µ–º–µ–Ω—Ç—ã: ${missing.join(', ')}`);
                        results.push('‚ùå Test 15: FAIL - –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤');
                    }
                } else {
                    setTestStatus('test15', 'fail', '–§—É–Ω–∫—Ü–∏—è renderRequestCard –Ω–µ –Ω–∞–π–¥–µ–Ω–∞');
                    results.push('‚ùå Test 15: FAIL - –§—É–Ω–∫—Ü–∏—è renderRequestCard –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç');
                }
            } catch (e) {
                setTestStatus('test15', 'fail', e.message);
                results.push(`‚ùå Test 15: FAIL - ${e.message}`);
            }

            // Test 16: –§—É–Ω–∫—Ü–∏—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
            try {
                const iframe = document.querySelector('iframe');
                const iframeWindow = iframe.contentWindow;
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ FilterManager –∏ –µ–≥–æ –º–µ—Ç–æ–¥–æ–≤
                const FilterManager = iframeWindow.FilterManager;
                
                if (FilterManager && typeof FilterManager === 'object') {
                    const hasApplyRequestFilters = typeof FilterManager.applyRequestFilters === 'function';
                    const hasMatchUrlPattern = typeof FilterManager.matchUrlPattern === 'function';
                    
                    if (hasApplyRequestFilters && hasMatchUrlPattern) {
                        // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é matchUrlPattern
                        const testCases = [
                            { url: '/api/users/123', pattern: '/api/users/*', expected: true },
                            { url: '/api/users/123', pattern: '/api/products/*', expected: false },
                            { url: '/api/test', pattern: '/api/test', expected: true },
                            { url: '/api/test', pattern: '/api/testing', expected: false }
                        ];
                        
                        let allTestsPassed = true;
                        for (const testCase of testCases) {
                            const result = FilterManager.matchUrlPattern(testCase.url, testCase.pattern);
                            if (result !== testCase.expected) {
                                allTestsPassed = false;
                                break;
                            }
                        }
                        
                        if (allTestsPassed) {
                            setTestStatus('test16', 'pass', '–§—É–Ω–∫—Ü–∏—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞');
                            results.push('‚úÖ Test 16: PASS - –§—É–Ω–∫—Ü–∏—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞');
                        } else {
                            setTestStatus('test16', 'fail', '–§—É–Ω–∫—Ü–∏—è matchUrlPattern —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ');
                            results.push('‚ùå Test 16: FAIL - –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Ñ—É–Ω–∫—Ü–∏–∏ matchUrlPattern');
                        }
                    } else {
                        const missing = [];
                        if (!hasApplyRequestFilters) missing.push('applyRequestFilters');
                        if (!hasMatchUrlPattern) missing.push('matchUrlPattern');
                        setTestStatus('test16', 'fail', `–û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –º–µ—Ç–æ–¥—ã: ${missing.join(', ')}`);
                        results.push('‚ùå Test 16: FAIL - –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –º–µ—Ç–æ–¥—ã FilterManager');
                    }
                } else {
                    setTestStatus('test16', 'fail', 'FilterManager –Ω–µ –Ω–∞–π–¥–µ–Ω');
                    results.push('‚ùå Test 16: FAIL - FilterManager –Ω–µ –Ω–∞–π–¥–µ–Ω');
                }
            } catch (e) {
                setTestStatus('test16', 'fail', e.message);
                results.push(`‚ùå Test 16: FAIL - ${e.message}`);
            }

            // Test 17: WireMock 3.9.1+ API Endpoints
            try {
                const iframe = document.querySelector('iframe');
                const iframeWindow = iframe.contentWindow;
                
                const requiredEndpoints = [
                    'RECORDINGS_START', 'RECORDINGS_STOP', 'RECORDINGS_STATUS',
                    'NEAR_MISSES_REQUEST', 'NEAR_MISSES_PATTERN',
                    'REQUESTS_COUNT', 'REQUESTS_FIND', 'REQUESTS_UNMATCHED'
                ];
                
                const ENDPOINTS = iframeWindow.ENDPOINTS;
                if (ENDPOINTS) {
                    const existingEndpoints = requiredEndpoints.filter(endpoint => 
                        ENDPOINTS[endpoint] !== undefined
                    );
                    
                    if (existingEndpoints.length >= 7) { // –ú–∏–Ω–∏–º—É–º 7 –∏–∑ 8 endpoints
                        setTestStatus('test17', 'pass', `–ù–∞–π–¥–µ–Ω–æ ${existingEndpoints.length}/${requiredEndpoints.length} endpoints`);
                        results.push('‚úÖ Test 17: PASS - WireMock 3.9.1+ API endpoints –Ω–∞–π–¥–µ–Ω—ã');
                    } else {
                        setTestStatus('test17', 'fail', `–ù–∞–π–¥–µ–Ω–æ —Ç–æ–ª—å–∫–æ ${existingEndpoints.length}/${requiredEndpoints.length} endpoints`);
                        results.push('‚ùå Test 17: FAIL - –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ API endpoints');
                    }
                } else {
                    setTestStatus('test17', 'fail', 'ENDPOINTS –æ–±—ä–µ–∫—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω');
                    results.push('‚ùå Test 17: FAIL - ENDPOINTS –æ–±—ä–µ–∫—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω');
                }
            } catch (e) {
                setTestStatus('test17', 'fail', e.message);
                results.push(`‚ùå Test 17: FAIL - ${e.message}`);
            }

            // Test 18: –ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ WireMock 3.13.x
            try {
                const iframe = document.querySelector('iframe');
                const iframeWindow = iframe.contentWindow;
                
                const newFunctions = [
                    'getUnmatchedMappings', 'removeUnmatchedMappings', 
                    'findMappingsByMetadata', 'getUnmatchedRequests'
                ];
                
                const existingFunctions = newFunctions.filter(func => 
                    typeof iframeWindow[func] === 'function'
                );
                
                if (existingFunctions.length >= 3) { // –ú–∏–Ω–∏–º—É–º 3 –∏–∑ 4 —Ñ—É–Ω–∫—Ü–∏–π
                    setTestStatus('test18', 'pass', `–ù–∞–π–¥–µ–Ω–æ ${existingFunctions.length}/${newFunctions.length} –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π`);
                    results.push('‚úÖ Test 18: PASS - –ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ WireMock 3.13.x –Ω–∞–π–¥–µ–Ω—ã');
                } else {
                    setTestStatus('test18', 'fail', `–ù–∞–π–¥–µ–Ω–æ —Ç–æ–ª—å–∫–æ ${existingFunctions.length}/${newFunctions.length} —Ñ—É–Ω–∫—Ü–∏–π`);
                    results.push('‚ùå Test 18: FAIL - –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π');
                }
            } catch (e) {
                setTestStatus('test18', 'fail', e.message);
                results.push(`‚ùå Test 18: FAIL - ${e.message}`);
            }

            // Test 19: Recording API Functions
            try {
                const iframe = document.querySelector('iframe');
                const iframeWindow = iframe.contentWindow;
                
                const recordingFunctions = [
                    'startRecording', 'stopRecording', 'getRecordingStatus', 'takeRecordingSnapshot'
                ];
                
                const existingFunctions = recordingFunctions.filter(func => 
                    typeof iframeWindow[func] === 'function'
                );
                
                if (existingFunctions.length >= 3) { // –ú–∏–Ω–∏–º—É–º 3 –∏–∑ 4 —Ñ—É–Ω–∫—Ü–∏–π
                    setTestStatus('test19', 'pass', `–ù–∞–π–¥–µ–Ω–æ ${existingFunctions.length}/${recordingFunctions.length} recording —Ñ—É–Ω–∫—Ü–∏–π`);
                    results.push('‚úÖ Test 19: PASS - Recording API —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–∞–π–¥–µ–Ω—ã');
                } else {
                    setTestStatus('test19', 'fail', `–ù–∞–π–¥–µ–Ω–æ —Ç–æ–ª—å–∫–æ ${existingFunctions.length}/${recordingFunctions.length} —Ñ—É–Ω–∫—Ü–∏–π`);
                    results.push('‚ùå Test 19: FAIL - –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ recording —Ñ—É–Ω–∫—Ü–∏–π');
                }
            } catch (e) {
                setTestStatus('test19', 'fail', e.message);
                results.push(`‚ùå Test 19: FAIL - ${e.message}`);
            }

            // Test 20: Near Misses API Functions
            try {
                const iframe = document.querySelector('iframe');
                const iframeWindow = iframe.contentWindow;
                
                const nearMissesFunctions = [
                    'findNearMissesForRequest', 'findNearMissesForPattern', 
                    'getNearMissesForUnmatched', 'getRequestCount', 'findRequests'
                ];
                
                const existingFunctions = nearMissesFunctions.filter(func => 
                    typeof iframeWindow[func] === 'function'
                );
                
                if (existingFunctions.length >= 4) { // –ú–∏–Ω–∏–º—É–º 4 –∏–∑ 5 —Ñ—É–Ω–∫—Ü–∏–π
                    setTestStatus('test20', 'pass', `–ù–∞–π–¥–µ–Ω–æ ${existingFunctions.length}/${nearMissesFunctions.length} near misses —Ñ—É–Ω–∫—Ü–∏–π`);
                    results.push('‚úÖ Test 20: PASS - Near Misses API —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–∞–π–¥–µ–Ω—ã');
                } else {
                    setTestStatus('test20', 'fail', `–ù–∞–π–¥–µ–Ω–æ —Ç–æ–ª—å–∫–æ ${existingFunctions.length}/${nearMissesFunctions.length} —Ñ—É–Ω–∫—Ü–∏–π`);
                    results.push('‚ùå Test 20: FAIL - –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ near misses —Ñ—É–Ω–∫—Ü–∏–π');
                }
            } catch (e) {
                setTestStatus('test20', 'fail', e.message);
                results.push(`‚ùå Test 20: FAIL - ${e.message}`);
            }

            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
            outputDiv.innerHTML = results.map(result => `<p>${result}</p>`).join('');
            
            const passCount = results.filter(r => r.includes('PASS')).length;
            const totalCount = results.length;
            
            outputDiv.innerHTML += `<hr><p><strong>üìä –ò—Ç–æ–≥–æ: ${passCount}/${totalCount} —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ–π–¥–µ–Ω–æ</strong></p>`;
            
            if (passCount === totalCount) {
                outputDiv.innerHTML += '<p style="color: green;">üéâ –í—Å–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ!</p>';
            } else {
                outputDiv.innerHTML += '<p style="color: red;">‚ö†Ô∏è –ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Ç–µ—Å—Ç—ã –Ω–µ –ø—Ä–æ–π–¥–µ–Ω—ã. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–¥.</p>';
            }
        }
    </script>
</body>
</html>
