<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>iMock - Wiremock UI TEST</title>

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="favicon.ico">

    <!-- CSS files in logical loading order -->
    <link rel="stylesheet" href="styles/animations.css">
    <link rel="stylesheet" href="styles/components.css">
    <link rel="stylesheet" href="styles/modals.css">
    <link rel="stylesheet" href="styles/main.css">
</head>
<body data-theme="dark">
    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="display: none;" aria-hidden="true">
        <symbol id="icon-logo" viewBox="0 0 24 24">
            <path d="M12 2.5c-5.24 0-9.5 4.26-9.5 9.5s4.26 9.5 9.5 9.5c3.02 0 5.72-1.39 7.45-3.58a1 1 0 00-.78-1.62h-5.17a2.75 2.75 0 110-5.5h5.17a1 1 0 00.78-1.62C17.72 3.89 15.02 2.5 12 2.5z" fill="currentColor"/>
        </symbol>
        <symbol id="icon-moon" viewBox="0 0 24 24">
            <path d="M21 12.79A9 9 0 0111.21 3 7 7 0 0012 21a7 7 0 009-8.21z" fill="currentColor"/>
        </symbol>
        <symbol id="icon-sun" viewBox="0 0 24 24">
            <circle cx="12" cy="12" r="4" fill="currentColor"/>
            <path d="M12 3v2M12 19v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M3 12h2M19 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
        </symbol>
        <symbol id="icon-clipboard" viewBox="0 0 24 24">
            <path d="M9 4h6a2 2 0 012 2v12a2 2 0 01-2 2H9a2 2 0 01-2-2V6a2 2 0 012-2z" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linejoin="round"/>
            <path d="M9 2.75A1.75 1.75 0 0110.75 1h2.5A1.75 1.75 0 0115 2.75V4H9z" fill="currentColor"/>
        </symbol>
        <symbol id="icon-inbox" viewBox="0 0 24 24">
            <path d="M4.75 6.5A1.75 1.75 0 016.5 4.75h11a1.75 1.75 0 011.75 1.75v6a1.75 1.75 0 01-1.75 1.75h-2.94a2.06 2.06 0 00-1.46.6l-.7.7a2.06 2.06 0 01-1.46.6h-1.48a2.06 2.06 0 01-1.46-.6l-.7-.7a2.06 2.06 0 00-1.46-.6H6.5A1.75 1.75 0 014.75 12.5z" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linejoin="round"/>
            <path d="M12 7v4m0 0l2-2m-2 2l-2-2" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
        </symbol>
        <symbol id="icon-masks" viewBox="0 0 24 24">
            <path d="M5 6a4 4 0 014-4h6a4 4 0 014 4v5a4 4 0 01-4 4h-2l-2 2-2-2H9a4 4 0 01-4-4z" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linejoin="round"/>
            <path d="M9 9a1 1 0 11-2 0m8 0a1 1 0 11-2 0" fill="currentColor"/>
            <path d="M8.5 11.5c1.5 1 3.5 1 5 0" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
        </symbol>
        <symbol id="icon-box" viewBox="0 0 24 24">
            <path d="M3.5 7.5L12 3l8.5 4.5v9L12 21l-8.5-4.5z" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linejoin="round"/>
            <path d="M12 21v-9" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
            <path d="M20.5 7.5l-8.5 4.5L3.5 7.5" stroke="currentColor" stroke-width="1.5" stroke-linejoin="round"/>
        </symbol>
        <symbol id="icon-mic" viewBox="0 0 24 24">
            <rect x="9" y="4" width="6" height="10" rx="3" fill="none" stroke="currentColor" stroke-width="1.5"/>
            <path d="M5 10a7 7 0 0014 0" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
            <path d="M12 20v-3" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
            <path d="M9 20h6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
        </symbol>
        <symbol id="icon-settings" viewBox="0 0 24 24">
            <path d="M10.325 4.317a1.75 1.75 0 013.35 0l.287.955a1.75 1.75 0 001.651 1.224h1.003a1.75 1.75 0 011.237 2.987l-.725.725a1.75 1.75 0 000 2.475l.725.725a1.75 1.75 0 01-1.237 2.987h-1.003a1.75 1.75 0 00-1.651 1.224l-.287.955a1.75 1.75 0 01-3.35 0l-.287-.955a1.75 1.75 0 00-1.651-1.224H8.384a1.75 1.75 0 01-1.237-2.987l.725-.725a1.75 1.75 0 000-2.475l-.725-.725a1.75 1.75 0 011.237-2.987h1.003a1.75 1.75 0 001.651-1.224z" fill="none" stroke="currentColor" stroke-width="1.3"/>
            <circle cx="12" cy="12" r="3" fill="currentColor"/>
        </symbol>
        <symbol id="icon-refresh" viewBox="0 0 24 24">
            <path d="M4.5 12a7.5 7.5 0 0112.73-5.3L19.5 9" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
            <path d="M19.5 6v3a1 1 0 01-1 1h-3" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
            <path d="M19.5 12a7.5 7.5 0 01-12.73 5.3L4.5 15" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
            <path d="M4.5 18v-3a1 1 0 011-1h3" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
        </symbol>
        <symbol id="icon-bolt" viewBox="0 0 24 24">
            <path d="M11 2L5 13h5v9l6-11h-5z" fill="currentColor"/>
        </symbol>
        <symbol id="icon-plus" viewBox="0 0 24 24">
            <path d="M12 5v14m-7-7h14" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
        </symbol>
        <symbol id="icon-search" viewBox="0 0 24 24">
            <path d="M21 21l-4.35-4.35" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
            <circle cx="11" cy="11" r="6" stroke="currentColor" stroke-width="1.5" fill="none"/>
        </symbol>
        <symbol id="icon-trending-up" viewBox="0 0 24 24">
            <path d="M3 17l6-6 4 4 7-7" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
            <path d="M14 5h7v7" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
        </symbol>
        <symbol id="icon-database" viewBox="0 0 24 24">
            <ellipse cx="12" cy="5" rx="7" ry="3" stroke="currentColor" stroke-width="1.5" fill="none"/>
            <path d="M5 5v6c0 1.66 3.13 3 7 3s7-1.34 7-3V5" stroke="currentColor" stroke-width="1.5" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M5 11v6c0 1.66 3.13 3 7 3s7-1.34 7-3v-6" stroke="currentColor" stroke-width="1.5" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
        </symbol>
        <symbol id="icon-clock" viewBox="0 0 24 24">
            <circle cx="12" cy="12" r="9" stroke="currentColor" stroke-width="1.5" fill="none"/>
            <path d="M12 7v5l3 2" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
        </symbol>
        <symbol id="icon-trash" viewBox="0 0 24 24">
            <path d="M5 7h14" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
            <path d="M9 7V5a2 2 0 012-2h2a2 2 0 012 2v2" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
            <path d="M6 7l1 12a2 2 0 002 2h6a2 2 0 002-2l1-12" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M10 11v6m4-6v6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
        </symbol>
        <symbol id="icon-pencil" viewBox="0 0 24 24">
            <path d="M4 17.5V20h2.5l11-11-2.5-2.5-11 11z" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linejoin="round"/>
            <path d="M14.5 4.5l2.5 2.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
        </symbol>
        <symbol id="icon-open-external" viewBox="0 0 24 24">
            <path d="M13 5h6v6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M11 13l8-8" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
            <path d="M19 13v5a2 2 0 01-2 2H7a2 2 0 01-2-2V7a2 2 0 012-2h5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
        </symbol>
        <symbol id="icon-check-circle" viewBox="0 0 24 24">
            <circle cx="12" cy="12" r="9" stroke="currentColor" stroke-width="1.5" fill="none"/>
            <path d="M9.5 12.5l2 2 4-4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
        </symbol>
        <symbol id="icon-x-circle" viewBox="0 0 24 24">
            <circle cx="12" cy="12" r="9" stroke="currentColor" stroke-width="1.5" fill="none"/>
            <path d="M9.5 9.5l5 5m0-5l-5 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
        </symbol>
        <symbol id="icon-request-in" viewBox="0 0 24 24">
            <path d="M6 6a2 2 0 012-2h8a2 2 0 012 2v4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
            <path d="M7 12l5 5 5-5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M12 17V6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
        </symbol>
        <symbol id="icon-response-out" viewBox="0 0 24 24">
            <path d="M18 18a2 2 0 01-2 2H8a2 2 0 01-2-2v-4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
            <path d="M12 7v11" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
            <path d="M7 11l5-5 5 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
        </symbol>
        <symbol id="icon-info" viewBox="0 0 24 24">
            <circle cx="12" cy="12" r="9" stroke="currentColor" stroke-width="1.5" fill="none"/>
            <path d="M12 8h.01M11 11h1v4h1" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
        </symbol>
        <symbol id="icon-broom" viewBox="0 0 24 24">
            <path d="M4 16l4 4 10-10-4-4z" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linejoin="round"/>
            <path d="M16 6l3-3" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
        </symbol>
        <symbol id="icon-save" viewBox="0 0 24 24">
            <path d="M5 5a2 2 0 012-2h9l3 3v13a2 2 0 01-2 2H7a2 2 0 01-2-2z" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linejoin="round"/>
            <path d="M9 3v5h6V3" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
            <rect x="9" y="13" width="6" height="5" rx="1" fill="currentColor"/>
        </symbol>
        <symbol id="icon-play" viewBox="0 0 24 24">
            <path d="M8 5v14l10-7z" fill="currentColor"/>
        </symbol>
        <symbol id="icon-stop" viewBox="0 0 24 24">
            <rect x="7" y="7" width="10" height="10" rx="1.5" fill="currentColor"/>
        </symbol>
        <symbol id="icon-code-brackets" viewBox="0 0 24 24">
            <path d="M9 7L5 12l4 5" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M15 7l4 5-4 5" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M13 5l-2 14" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
        </symbol>
        <symbol id="icon-sidebar-collapse" viewBox="0 0 20 20">
            <path fill="currentColor" d="M6.83496 3.99992C6.38353 4.00411 6.01421 4.0122 5.69824 4.03801C5.31232 4.06954 5.03904 4.12266 4.82227 4.20012L4.62207 4.28606C4.18264 4.50996 3.81498 4.85035 3.55859 5.26848L3.45605 5.45207C3.33013 5.69922 3.25006 6.01354 3.20801 6.52824C3.16533 7.05065 3.16504 7.71885 3.16504 8.66301V11.3271C3.16504 12.2712 3.16533 12.9394 3.20801 13.4618C3.25006 13.9766 3.33013 14.2909 3.45605 14.538L3.55859 14.7216C3.81498 15.1397 4.18266 15.4801 4.62207 15.704L4.82227 15.79C5.03904 15.8674 5.31234 15.9205 5.69824 15.9521C6.01398 15.9779 6.383 15.986 6.83398 15.9902L6.83496 3.99992ZM18.165 11.3271C18.165 12.2493 18.1653 12.9811 18.1172 13.5702C18.0745 14.0924 17.9916 14.5472 17.8125 14.9648L17.7295 15.1415C17.394 15.8 16.8834 16.3511 16.2568 16.7353L15.9814 16.8896C15.5157 17.1268 15.0069 17.2285 14.4102 17.2773C13.821 17.3254 13.0893 17.3251 12.167 17.3251H7.83301C6.91071 17.3251 6.17898 17.3254 5.58984 17.2773C5.06757 17.2346 4.61294 17.1508 4.19531 16.9716L4.01855 16.8896C3.36014 16.5541 2.80898 16.0434 2.4248 15.4169L2.27051 15.1415C2.03328 14.6758 1.93158 14.167 1.88281 13.5702C1.83468 12.9811 1.83496 12.2493 1.83496 11.3271V8.66301C1.83496 7.74072 1.83468 7.00898 1.88281 6.41985C1.93157 5.82309 2.03329 5.31432 2.27051 4.84856L2.4248 4.57317C2.80898 3.94666 3.36012 3.436 4.01855 3.10051L4.19531 3.0175C4.61285 2.83843 5.06771 2.75548 5.58984 2.71281C6.17898 2.66468 6.91071 2.66496 7.83301 2.66496H12.167C13.0893 2.66496 13.821 2.66468 14.4102 2.71281C15.0069 2.76157 15.5157 2.86329 15.9814 3.10051L16.2568 3.25481C16.8833 3.63898 17.394 4.19012 17.7295 4.84856L17.8125 5.02531C17.9916 5.44285 18.0745 5.89771 18.1172 6.41985C18.1653 7.00898 18.165 7.74072 18.165 8.66301V11.3271ZM8.16406 15.995H12.167C13.1112 15.995 13.7794 15.9947 14.3018 15.9521C14.8164 15.91 15.1308 15.8299 15.3779 15.704L15.5615 15.6015C15.9797 15.3451 16.32 14.9774 16.5439 14.538L16.6299 14.3378C16.7074 14.121 16.7605 13.8478 16.792 13.4618C16.8347 12.9394 16.835 12.2712 16.835 11.3271V8.66301C16.835 7.71885 16.8347 7.05065 16.792 6.52824C16.7605 6.14232 16.7073 5.86904 16.6299 5.65227L16.5439 5.45207C16.32 5.01264 15.9796 4.64498 15.5615 4.3886L15.3779 4.28606C15.1308 4.16013 14.8165 4.08006 14.3018 4.03801C13.7794 3.99533 13.1112 3.99504 12.167 3.99504H8.16406C8.16407 3.99667 8.16504 3.99829 8.16504 3.99992L8.16406 15.995Z"/>
        </symbol>
        <symbol id="icon-sidebar-expand" viewBox="0 0 20 20">
            <path fill="currentColor" transform="scale(-1 1) translate(-20 0)" d="M6.83496 3.99992C6.38353 4.00411 6.01421 4.0122 5.69824 4.03801C5.31232 4.06954 5.03904 4.12266 4.82227 4.20012L4.62207 4.28606C4.18264 4.50996 3.81498 4.85035 3.55859 5.26848L3.45605 5.45207C3.33013 5.69922 3.25006 6.01354 3.20801 6.52824C3.16533 7.05065 3.16504 7.71885 3.16504 8.66301V11.3271C3.16504 12.2712 3.16533 12.9394 3.20801 13.4618C3.25006 13.9766 3.33013 14.2909 3.45605 14.538L3.55859 14.7216C3.81498 15.1397 4.18266 15.4801 4.62207 15.704L4.82227 15.79C5.03904 15.8674 5.31234 15.9205 5.69824 15.9521C6.01398 15.9779 6.383 15.986 6.83398 15.9902L6.83496 3.99992ZM18.165 11.3271C18.165 12.2493 18.1653 12.9811 18.1172 13.5702C18.0745 14.0924 17.9916 14.5472 17.8125 14.9648L17.7295 15.1415C17.394 15.8 16.8834 16.3511 16.2568 16.7353L15.9814 16.8896C15.5157 17.1268 15.0069 17.2285 14.4102 17.2773C13.821 17.3254 13.0893 17.3251 12.167 17.3251H7.83301C6.91071 17.3251 6.17898 17.3254 5.58984 17.2773C5.06757 17.2346 4.61294 17.1508 4.19531 16.9716L4.01855 16.8896C3.36014 16.5541 2.80898 16.0434 2.4248 15.4169L2.27051 15.1415C2.03328 14.6758 1.93158 14.167 1.88281 13.5702C1.83468 12.9811 1.83496 12.2493 1.83496 11.3271V8.66301C1.83496 7.74072 1.83468 7.00898 1.88281 6.41985C1.93157 5.82309 2.03329 5.31432 2.27051 4.84856L2.4248 4.57317C2.80898 3.94666 3.36012 3.436 4.01855 3.10051L4.19531 3.0175C4.61285 2.83843 5.06771 2.75548 5.58984 2.71281C6.17898 2.66468 6.91071 2.66496 7.83301 2.66496H12.167C13.0893 2.66496 13.821 2.66468 14.4102 2.71281C15.0069 2.76157 15.5157 2.86329 15.9814 3.10051L16.2568 3.25481C16.8833 3.63898 17.394 4.19012 17.7295 4.84856L17.8125 5.02531C17.9916 5.44285 18.0745 5.89771 18.1172 6.41985C18.1653 7.00898 18.165 7.74072 18.165 8.66301V11.3271ZM8.16406 15.995H12.167C13.1112 15.995 13.7794 15.9947 14.3018 15.9521C14.8164 15.91 15.1308 15.8299 15.3779 15.704L15.5615 15.6015C15.9797 15.3451 16.32 14.9774 16.5439 14.538L16.6299 14.3378C16.7074 14.121 16.7605 13.8478 16.792 13.4618C16.8347 12.9394 16.835 12.2712 16.835 11.3271V8.66301C16.835 7.71885 16.8347 7.05065 16.792 6.52824C16.7605 6.14232 16.7073 5.86904 16.6299 5.65227L16.5439 5.45207C16.32 5.01264 15.9796 4.64498 15.5615 4.3886L15.3779 4.28606C15.1308 4.16013 14.8165 4.08006 14.3018 4.03801C13.7794 3.99533 13.1112 3.99504 12.167 3.99504H8.16406C8.16407 3.99667 8.16504 3.99829 8.16504 3.99992L8.16406 15.995Z"/>
        </symbol>
        <symbol id="icon-minus" viewBox="0 0 24 24">
            <path d="M6 12h12" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
        </symbol>
    </svg>
    <div class="header">
        <div class="logo">
            <span class="logo-mark" aria-hidden="true">
                <svg class="icon icon-logo" focusable="false">
                    <use href="#icon-logo"></use>
                </svg>
            </span>
            <span class="logo-text">iTest</span>
            <span class="version">v2.21</span>
        </div>
        <div class="status">
            <div class="status-indicator">
                <div class="status-dot" id="status-dot"></div>
                <span id="status-text">Disconnected</span>
                <span id="health-indicator" style="display: none; margin-left: 10px; font-size: 0.9em;"></span>
            </div>
            <button class="theme-toggle" onclick="if(typeof toggleTheme === 'function') toggleTheme()">
                <svg class="icon" aria-hidden="true" focusable="false">
                    <use id="theme-icon" href="#icon-moon"></use>
                </svg>
                <span class="sr-only">Toggle theme</span>
            </button>
        </div>
    </div>

    <div class="container">
        <div class="sidebar">
            <div class="sidebar-controls">
                <button class="sidebar-toggle" type="button" onclick="toggleSidebar()" aria-label="Collapse sidebar" aria-expanded="true" title="Collapse sidebar">
                    <svg class="icon icon-18" aria-hidden="true" focusable="false"><use href="#icon-sidebar-collapse"></use></svg>
                </button>
            </div>
            <div class="sidebar-nav">
                <div class="nav-item active" onclick="showPage('mappings', this)" aria-label="Mappings" title="Mappings">
                    <svg class="icon nav-icon" aria-hidden="true" focusable="false"><use href="#icon-clipboard"></use></svg>
                    <span>Mappings</span>
                </div>
                <div class="nav-item" onclick="showPage('requests', this)" aria-label="Request Log" title="Request Log">
                    <svg class="icon nav-icon" aria-hidden="true" focusable="false"><use href="#icon-inbox"></use></svg>
                    <span>Request Log</span>
                </div>
                <div class="nav-item" onclick="showPage('scenarios', this)" aria-label="Scenarios" title="Scenarios">
                    <svg class="icon nav-icon" aria-hidden="true" focusable="false"><use href="#icon-masks"></use></svg>
                    <span>Scenarios</span>
                </div>
                <div class="nav-item" onclick="showPage('import-export', this)" aria-label="Import and Export" title="Import and Export">
                    <svg class="icon nav-icon" aria-hidden="true" focusable="false"><use href="#icon-box"></use></svg>
                    <span>Import/Export</span>
                </div>
                <div class="nav-item" onclick="showPage('recording', this)" aria-label="Recording" title="Recording">
                    <svg class="icon nav-icon" aria-hidden="true" focusable="false"><use href="#icon-mic"></use></svg>
                    <span>Recording</span>
                </div>
                <div class="nav-item" onclick="showPage('settings', this)" aria-label="Settings" title="Settings">
                    <svg class="icon nav-icon" aria-hidden="true" focusable="false"><use href="#icon-settings"></use></svg>
                    <span>Settings</span>
                </div>
            </div>
        </div>
        
        <div class="main-content">
            <!-- MAPPINGS PAGE -->
            <div id="mappings-page">
                <div class="page-header">
                    <div class="stats-spacer" id="stats-spacer"></div>
                    <div class="stats" id="stats" style="display: none;">
                        <div class="stat-card fade-in">
                            <div class="stat-icon">
                                <svg class="icon icon-stat" aria-hidden="true" focusable="false"><use href="#icon-clipboard"></use></svg>
                            </div>
                            <div class="stat-content">
                                <div class="stat-number" id="mappings-count">0</div>
                                <div class="stat-label">Mappings</div>
                            </div>
                        </div>
                        <div class="stat-card fade-in" style="animation-delay: 0.05s;">
                            <div class="stat-icon">
                                <svg class="icon icon-stat" aria-hidden="true" focusable="false"><use href="#icon-inbox"></use></svg>
                            </div>
                            <div class="stat-content">
                                <div class="stat-number" id="requests-count">0</div>
                                <div class="stat-label">Requests</div>
                            </div>
                        </div>
                        <div class="stat-card fade-in" style="animation-delay: 0.1s;">
                            <div class="stat-icon">
                                <svg class="icon icon-stat" aria-hidden="true" focusable="false"><use href="#icon-masks"></use></svg>
                            </div>
                            <div class="stat-content">
                                <div class="stat-number" id="scenarios-count">0</div>
                                <div class="stat-label">Scenarios</div>
                            </div>
                        </div>
                        <div class="stat-card fade-in" style="animation-delay: 0.15s;">
                            <div class="stat-icon">
                                <svg class="icon icon-stat" aria-hidden="true" focusable="false"><use href="#icon-clock"></use></svg>
                            </div>
                            <div class="stat-content">
                                <div class="stat-number" id="uptime">0s</div>
                                <div class="stat-label">Uptime</div>
                            </div>
                        </div>
                    </div>
                    <div style="display: flex; gap: var(--space-3); align-items: center;">
                        <span id="data-source-indicator" class="badge badge-secondary" title="Current data source">Source: direct</span>
                        <button class="btn btn-secondary" onclick="refreshMappings()">
                            <svg class="icon" aria-hidden="true" focusable="false"><use href="#icon-refresh"></use></svg>
                            <span>Refresh</span>
                        </button>
                        <button class="btn btn-secondary" onclick="forceRefreshCache()" title="Rebuild the service cache mapping and reload">
                            <span class="btn-spinner loading-spinner" aria-hidden="true"></span>
                            <svg class="icon" aria-hidden="true" focusable="false"><use href="#icon-bolt"></use></svg>
                            <span class="btn-label">Force Refresh Cache</span>
                        </button>
                        <button class="btn btn-primary" onclick="openNewMappingModal()" id="add-mapping-btn" disabled>
                            <svg class="icon" aria-hidden="true" focusable="false"><use href="#icon-plus"></use></svg>
                            <span>Add Mapping</span>
                        </button>
                    </div>
                </div>

                <div class="card" id="connection-setup">
                    <div class="card-header">
                        <h3 class="card-title">Connect to WireMock Server</h3>
                    </div>
                    <p style="margin-bottom: var(--space-6); color: var(--text-secondary);">Enter your WireMock server details to get started:</p>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Host</label>
                            <input type="text" class="form-input" id="wiremock-host" value="localhost">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Port</label>
                            <input type="number" class="form-input" id="wiremock-port" value="8080">
                        </div>
                        <div class="form-group" style="display: flex; gap: var(--space-2); align-items: end;">
                            <button class="btn btn-success" onclick="connectToWireMock()">Connect</button>
                            <button class="btn btn-secondary" onclick="loadMockData()">Demo Mode</button>
                            <button class="btn btn-warning" onclick="checkHealth()">Health Check</button>
                        </div>
                    </div>
                </div>
                
                
                <div class="search-filters" id="search-filters" style="display: none;">
                    <div class="filter-query-container">
                        <div class="form-group filter-query-form-group">
                            <label class="form-label">
                                Filter Query
                                <button type="button"
                                        class="btn-link btn-help-toggle"
                                        onclick="toggleQueryHelp()"
                                        aria-expanded="false"
                                        aria-controls="query-help">
                                    Show Examples
                                </button>
                            </label>
                            <div class="input-shell">
                                <span class="input-icon">
                                    <svg class="icon icon-input" aria-hidden="true" focusable="false"><use href="#icon-search"></use></svg>
                                </span>
                                <input
                                    type="text"
                                    class="form-input"
                                    id="filter-query"
                                    placeholder="e.g., method:GET,POST url:api status:200"
                                    oninput="applyFilters()"
                                    autocomplete="off"
                                    aria-describedby="query-help"
                                >
                                <button type="button" class="input-clear" onclick="clearMappingFilters()" title="Clear query">
                                    <span class="sr-only">Clear query</span>
                                    &times;
                                </button>
                            </div>
                            <button type="button" class="btn btn-secondary btn-sm" onclick="saveCurrentMappingFilter()" title="Save current filter">
                                <svg class="icon" aria-hidden="true" focusable="false" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path>
                                    <polyline points="17 21 17 13 7 13 7 21"></polyline>
                                    <polyline points="7 3 7 8 15 8"></polyline>
                                </svg>
                                <span>Save</span>
                            </button>
                        </div>

                        <!-- Quick filters and active filters -->
                        <div class="filter-chips-container">
                            <div class="quick-filters">
                                <span class="quick-filters-label">Quick:</span>
                                <button type="button" class="filter-chip filter-chip-quick" onclick="applyQuickMethodFilter('GET')" data-method="GET">
                                    GET
                                </button>
                                <button type="button" class="filter-chip filter-chip-quick" onclick="applyQuickMethodFilter('POST')" data-method="POST">
                                    POST
                                </button>
                                <button type="button" class="filter-chip filter-chip-quick" onclick="applyQuickMethodFilter('PUT')" data-method="PUT">
                                    PUT
                                </button>
                                <button type="button" class="filter-chip filter-chip-quick" onclick="applyQuickMethodFilter('PATCH')" data-method="PATCH">
                                    PATCH
                                </button>
                                <button type="button" class="filter-chip filter-chip-quick" onclick="applyQuickMethodFilter('DELETE')" data-method="DELETE">
                                    DELETE
                                </button>
                                <span class="filters-separator filter-hidden" id="saved-filters-separator">|</span>
                                <div class="saved-filters-inline filter-hidden" id="saved-filters-list">
                                    <!-- Saved filter chips will be inserted here -->
                                </div>
                            </div>
                            <div class="active-filters filter-hidden" id="active-filters">
                                <span class="active-filters-label">Active:</span>
                                <div class="active-filters-list" id="active-filters-list">
                                    <!-- Active filter chips will be inserted here -->
                                </div>
                            </div>
                        </div>

                        <div id="query-help" class="query-help hidden">
                            <div class="query-help-title">Query Syntax Examples:</div>
                            <div class="query-help-examples">
                                <div class="query-help-example">
                                    <code>method:GET,POST</code>
                                    <span>Filter by GET or POST methods</span>
                                </div>
                                <div class="query-help-example">
                                    <code>url:api</code>
                                    <span>URL contains "api"</span>
                                </div>
                                <div class="query-help-example">
                                    <code>status:200,201</code>
                                    <span>Status is 200 or 201</span>
                                </div>
                                <div class="query-help-example">
                                    <code>name:user</code>
                                    <span>Name contains "user"</span>
                                </div>
                                <div class="query-help-example">
                                    <code>-status:404</code>
                                    <span>Exclude 404 status</span>
                                </div>
                                <div class="query-help-example">
                                    <code>priority:1-5</code>
                                    <span>Priority between 1 and 5</span>
                                </div>
                                <div class="query-help-example">
                                    <code>method:GET url:users status:200</code>
                                    <span>Combine multiple filters (AND logic)</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div id="mappings-loading" class="loading hidden">Loading mappings...</div>
                <div id="mappings-list-container">
                    <div id="mappings-empty" class="empty-state hidden">
                        <h3>No mappings found</h3>
                        <p>Connect to WireMock server or use Demo Mode to see mappings.</p>
                    </div>
                    <div class="cards-container" id="mappings-list" style="display: none;">
                        <!-- Mapping items will be dynamically inserted here -->
                    </div>
                    <div id="mappings-pagination" class="pagination-container"></div>
                </div>
            </div>
            
            <!-- REQUESTS PAGE -->
            <div id="requests-page" class="hidden">
                <div class="page-header">
                    <div class="page-title">Request Log</div>
                    <div style="display: flex; gap: var(--space-2); align-items: center;">
                        <span id="requests-source-indicator" class="badge badge-secondary" title="Current data source">Requests: direct</span>
                        <button class="btn btn-secondary" onclick="refreshRequests()">
                            <svg class="icon" aria-hidden="true" focusable="false"><use href="#icon-refresh"></use></svg>
                            <span>Refresh</span>
                        </button>
                        <button class="btn btn-danger" onclick="clearRequests()">
                            <svg class="icon" aria-hidden="true" focusable="false"><use href="#icon-trash"></use></svg>
                            <span>Clear Log</span>
                        </button>
                        <button class="btn btn-secondary" onclick="clearRequestFilters()">
                            <svg class="icon" aria-hidden="true" focusable="false"><use href="#icon-broom"></use></svg>
                            <span>Clear Filters</span>
                        </button>
                    </div>
                </div>

                <div class="search-filters">
                    <div class="filter-tabs" role="tablist">
                        <button type="button" class="filter-tab active" data-filter-group="requests" data-filter-value="" onclick="handleRequestTabClick(this, '')">
                            <span>All</span>
                            <span class="filter-tab-count" id="requests-tab-all">0</span>
                        </button>
                        <button type="button" class="filter-tab" data-filter-group="requests" data-filter-value="matched" onclick="handleRequestTabClick(this, 'matched')">
                            <span>Matched</span>
                            <span class="filter-tab-count" id="requests-tab-matched">0</span>
                        </button>
                        <button type="button" class="filter-tab" data-filter-group="requests" data-filter-value="unmatched" onclick="handleRequestTabClick(this, 'unmatched')">
                            <span>Unmatched</span>
                            <span class="filter-tab-count" id="requests-tab-unmatched">0</span>
                        </button>
                    </div>

                    <!-- Query-based filter -->
                    <div class="form-group filter-query-form-group">
                        <label for="req-filter-query" class="form-label">
                            Filter Query
                            <button type="button" class="help-button" onclick="toggleQueryHelp('requests')" aria-label="Show query syntax help" aria-expanded="false" aria-controls="req-query-help">
                                ?
                            </button>
                        </label>
                        <div class="input-shell">
                            <span class="input-icon">
                                <svg class="icon icon-input" aria-hidden="true" focusable="false"><use href="#icon-search"></use></svg>
                            </span>
                            <input
                                type="text"
                                class="form-input"
                                id="req-filter-query"
                                placeholder="e.g., method:GET url:api matched:true status:200,201"
                                oninput="applyRequestFilters()"
                                aria-describedby="req-query-help">
                            <button type="button" class="input-clear" onclick="clearRequestFilters()" title="Clear filters">
                                <span class="sr-only">Clear filters</span>
                                &times;
                            </button>
                        </div>
                        <button type="button" class="btn btn-secondary btn-sm" onclick="saveCurrentRequestFilter()" title="Save current filter">
                            <svg class="icon" aria-hidden="true" focusable="false" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path>
                                <polyline points="17 21 17 13 7 13 7 21"></polyline>
                                <polyline points="7 3 7 8 15 8"></polyline>
                            </svg>
                            <span>Save</span>
                        </button>
                        <div id="req-query-help" class="query-help hidden" role="region" aria-live="polite">
                            <strong>Query Syntax:</strong>
                            <ul>
                                <li><code>method:GET,POST</code> - Filter by HTTP methods (OR)</li>
                                <li><code>url:api</code> - Search in URL</li>
                                <li><code>matched:true</code> - Show only matched requests</li>
                                <li><code>matched:false</code> - Show only unmatched requests</li>
                                <li><code>status:200,201</code> - Filter by response status codes</li>
                                <li><code>client:192.168</code> - Filter by client IP</li>
                                <li><code>method:GET url:api</code> - Combine filters (AND)</li>
                                <li><code>-status:500</code> - Exclude status 500</li>
                            </ul>
                        </div>
                    </div>

                    <!-- Quick filter chips for common methods -->
                    <div class="filter-chips-container">
                        <div class="quick-filters">
                            <button type="button" class="filter-chip filter-chip-quick" onclick="applyQuickRequestFilter('GET')">GET</button>
                            <button type="button" class="filter-chip filter-chip-quick" onclick="applyQuickRequestFilter('POST')">POST</button>
                            <button type="button" class="filter-chip filter-chip-quick" onclick="applyQuickRequestFilter('PUT')">PUT</button>
                            <button type="button" class="filter-chip filter-chip-quick" onclick="applyQuickRequestFilter('PATCH')">PATCH</button>
                            <button type="button" class="filter-chip filter-chip-quick" onclick="applyQuickRequestFilter('DELETE')">DELETE</button>
                            <button type="button" class="filter-chip filter-chip-quick" onclick="applyQuickRequestFilter('matched:true')">Matched</button>
                            <button type="button" class="filter-chip filter-chip-quick" onclick="applyQuickRequestFilter('matched:false')">Unmatched</button>
                            <span class="filters-separator filter-hidden" id="req-saved-filters-separator">|</span>
                            <div class="saved-filters-inline filter-hidden" id="req-saved-filters-list">
                                <!-- Saved filter chips will be inserted here -->
                            </div>
                        </div>
                        <div class="active-filters filter-hidden" id="req-active-filters">
                            <!-- Active filter chips will be rendered here -->
                        </div>
                    </div>

                    <!-- Time Range Filters -->
                    <div class="filter-grid" style="margin-top: var(--space-3);">
                        <div class="form-group">
                            <label class="form-label">Quick Time Filter</label>
                            <select class="form-select" id="req-filter-quick" onchange="applyQuickTimeFilter()">
                                <option value="">All Time</option>
                                <option value="5m">Last 5 minutes</option>
                                <option value="15m">Last 15 minutes</option>
                                <option value="30m">Last 30 minutes</option>
                                <option value="1h">Last 1 hour</option>
                                <option value="3h">Last 3 hours</option>
                                <option value="6h">Last 6 hours</option>
                                <option value="12h">Last 12 hours</option>
                                <option value="1d">Last 1 day</option>
                                <option value="3d">Last 3 days</option>
                                <option value="7d">Last 7 days</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Custom Time Range</label>
                            <div style="display: flex; gap: var(--space-2);">
                                <input type="datetime-local" class="form-input" id="req-filter-from" onchange="clearQuickTimeFilter(); applyRequestFilters()" style="flex: 1;" placeholder="From">
                                <input type="datetime-local" class="form-input" id="req-filter-to" onchange="clearQuickTimeFilter(); applyRequestFilters()" style="flex: 1;" placeholder="To">
                            </div>
                        </div>
                    </div>
                </div>
                
                <div id="requests-loading" class="loading hidden">Loading requests...</div>
                <div id="requests-list-container">
                    <div id="requests-empty" class="empty-state hidden">
                        <h3>No requests logged</h3>
                        <p>Make some API calls to see them here.</p>
                    </div>
                    <div class="cards-container" id="requests-list" style="display: none;">
                        <!-- Request items will be dynamically inserted here -->
                    </div>
                </div>
            </div>
            
            <!-- SCENARIOS PAGE -->
            <div id="scenarios-page" class="hidden">
                <div class="page-header">
                    <div class="page-title">Scenario Management</div>
                    <div style="display: flex; gap: var(--space-2);">
                        <button class="btn btn-secondary" onclick="refreshScenarios()">
                            <svg class="icon" aria-hidden="true" focusable="false"><use href="#icon-refresh"></use></svg>
                            <span>Refresh</span>
                        </button>
                        <button class="btn btn-danger" onclick="resetAllScenarios()">
                            <svg class="icon" aria-hidden="true" focusable="false"><use href="#icon-refresh"></use></svg>
                            <span>Reset All</span>
                        </button>
                    </div>
                </div>
                
                <div class="card card-static">
                    <div class="card-header">
                        <h3 class="card-title">Scenario State Control</h3>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Scenario</label>
                            <select class="form-select" id="scenario-select">
                                <option value="">Select Scenario</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Set State</label>
                            <input type="text" class="form-input" id="scenario-state" placeholder="Enter state name" list="scenario-state-options">
                            <datalist id="scenario-state-options"></datalist>
                        </div>
                        <div class="form-group" style="display: flex; align-items: end;">
                            <button class="btn btn-primary" id="scenario-update-btn" onclick="updateScenarioState()">Update State</button>
                        </div>
                    </div>
                </div>
                
                <div id="scenarios-loading" class="loading hidden">Loading scenarios...</div>
                <div id="scenarios-list-container">
                    <div id="scenarios-empty" class="empty-state hidden">
                        <h3>No scenarios found</h3>
                        <p>Create mappings with scenarios to manage state here.</p>
                    </div>
                    <div class="cards-container" id="scenarios-list" style="display: none;">
                        <!-- Scenario items will be dynamically inserted here -->
                    </div>
                </div>
            </div>
            
            <!-- IMPORT/EXPORT PAGE -->
            <div id="import-export-page" class="hidden">
                <div class="page-header">
                    <div class="page-title">Import/Export</div>
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--space-6);">
                    <!-- Export Section -->
                    <div class="card card-static">
                        <div class="card-header">
                            <h3 class="card-title">
                                <svg class="icon icon-inline" aria-hidden="true" focusable="false"><use href="#icon-response-out"></use></svg>
                                Export Data
                            </h3>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Export Format</label>
                            <select class="form-select" id="export-format">
                                <option value="json">JSON</option>
                                <option value="yaml">YAML</option>
                            </select>
                        </div>
                        <div style="display: flex; flex-direction: column; gap: var(--space-3);">
                            <button class="btn btn-primary" onclick="exportMappings()">
                                <svg class="icon" aria-hidden="true" focusable="false"><use href="#icon-response-out"></use></svg>
                                <span>Export All Mappings</span>
                            </button>
                            <button class="btn btn-secondary" onclick="exportRequests()">
                                <svg class="icon" aria-hidden="true" focusable="false"><use href="#icon-response-out"></use></svg>
                                <span>Export Request Log</span>
                            </button>
                        </div>
                        <div id="export-result" style="margin-top: var(--space-4);"></div>
                        <p class="form-help" style="margin-top: var(--space-3);">
                            Looking for ready-made mocks? Explore the <a href="https://library.wiremock.org/" target="_blank" rel="noopener">WireMock Templates Library</a> for example mappings you can import or adapt.</p>
                    </div>
                    
                    <!-- Import Section -->
                    <div class="card card-static">
                        <div class="card-header">
                            <h3 class="card-title">
                                <svg class="icon icon-inline" aria-hidden="true" focusable="false"><use href="#icon-request-in"></use></svg>
                                Import Data
                            </h3>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Import File</label>
                            <div class="file-input-container">
                                <input type="file" class="file-input" id="import-file" accept=".json,.yaml,.yml" onchange="updateFileDisplay()">
                                <label for="import-file" class="btn btn-secondary" style="width: 100%; justify-content: center;">
                                    <svg class="icon" aria-hidden="true" focusable="false"><use href="#icon-box"></use></svg>
                                    <span>Choose File</span>
                                </label>
                                <div class="file-display" style="margin-top: var(--space-2); padding: var(--space-3); background: var(--bg-secondary); border-radius: var(--radius-md); text-align: center; color: var(--text-secondary);" id="file-display">
                                    <span class="file-placeholder">No file selected</span>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Import Mode</label>
                            <select class="form-select" id="import-mode">
                                <option value="MERGE">MERGE (default)</option>
                                <option value="OVERWRITE">OVERWRITE</option>
                                <option value="DELETE_ALL">DELETE_ALL</option>
                                <option value="STANDARD">STANDARD</option>
                            </select>
                            <p class="form-help">Select how WireMock should handle existing mappings during import.</p>
                        </div>
                        <div class="form-group" id="import-actions" style="display: none;">
                            <button class="btn btn-primary" id="import-submit-btn" onclick="executeImport()">
                                <span class="btn-spinner loading-spinner" aria-hidden="true"></span>
                                <span class="btn-label">
                                    <svg class="icon" aria-hidden="true" focusable="false"><use href="#icon-request-in"></use></svg>
                                    <span>Import</span>
                                </span>
                            </button>
                        </div>
                        <div id="import-result" style="margin-top: var(--space-4);"></div>
                    </div>
                </div>
            </div>
            
            <!-- RECORDING PAGE -->
            <div id="recording-page" class="hidden">
                <div class="page-header">
                    <div class="page-title">Recording</div>
                </div>
                
                <div class="card card-static">
                    <div class="card-header">
                        <h3 class="card-title">
                            <svg class="icon icon-inline" aria-hidden="true" focusable="false"><use href="#icon-mic"></use></svg>
                            Record API Calls
                        </h3>
                    </div>
                    <p style="margin-bottom: var(--space-4); color: var(--text-secondary);">Configure recording settings to capture real API calls and generate mappings automatically.</p>
                    <p class="form-help" style="margin-bottom: var(--space-4);">Need the classic recorder interface? Open <a id="recorder-link" href="" target="_blank" rel="noopener">configure host to enable link</a>.</p>

                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Target URL</label>
                            <input type="text" class="form-input" id="record-target-url" placeholder="https://api.example.com">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Recording Mode</label>
                            <select class="form-select" id="record-mode">
                                <option value="record">Record</option>
                                <option value="snapshot">Snapshot</option>
                            </select>
                        </div>
                    </div>

                    <div style="display: flex; gap: var(--space-3); margin-top: var(--space-4);">
                        <button class="btn btn-success" onclick="startRecording()">
                            <svg class="icon" aria-hidden="true" focusable="false"><use href="#icon-play"></use></svg>
                            <span>Start Recording</span>
                        </button>
                        <button class="btn btn-danger" onclick="stopRecording()">
                            <svg class="icon" aria-hidden="true" focusable="false"><use href="#icon-stop"></use></svg>
                            <span>Stop Recording</span>
                        </button>
                        <button class="btn btn-secondary" onclick="clearRecordings()">
                            <svg class="icon" aria-hidden="true" focusable="false"><use href="#icon-trash"></use></svg>
                            <span>Clear Recordings</span>
                        </button>
                    </div>

                    <div id="recording-status" style="margin-top: var(--space-4);"></div>
                    </div>

                <div id="recordings-list" style="margin-top: var(--space-6);">
                    <!-- Recorded mappings will appear here -->
                </div>
            </div>
            
            <!-- SETTINGS PAGE -->
            <div id="settings-page" class="hidden">
                <div class="page-header">
                    <div class="page-title">Settings</div>
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--space-6);">
                    <!-- General Settings -->
                    <div class="card card-static">
                        <div class="card-header">
                        <h3 class="card-title">
                            <svg class="icon icon-inline" aria-hidden="true" focusable="false"><use href="#icon-settings"></use></svg>
                            General Settings
                        </h3>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Theme</label>
                            <select class="form-select" id="theme-select" onchange="changeTheme()">
                                <option value="light">Light</option>
                                <option value="dark">Dark</option>
                                <option value="auto">Auto</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Auto-refresh Interval (seconds)</label>
                            <input type="number" class="form-input" id="refresh-interval" value="" min="0" max="300">
                        </div>
                        <div class="form-group">
                            <label class="form-label">
                                <input type="checkbox" id="auto-refresh-enabled"> Enable Auto-refresh
                            </label>
                        </div>
                    </div>
                    
                    <!-- Connection Settings -->
                    <div class="card card-static">
                    <div class="card-header">
                        <h3 class="card-title">
                            <svg class="icon icon-inline" aria-hidden="true" focusable="false"><use href="#icon-settings"></use></svg>
                            Connection Settings
                        </h3>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Default Host</label>
                            <input type="text" class="form-input" id="default-host" value="">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Default Port</label>
                            <input type="number" class="form-input" id="default-port" value="">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Request Timeout (ms)</label>
                            <input type="number" class="form-input" id="request-timeout" value="" min="1000" max="600000">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Custom Headers</label>
                            <textarea class="form-input" id="custom-headers" rows="4" placeholder='Authorization: Bearer token123'></textarea>
                            <small class="form-help">Optional JSON object or key:value pairs applied to every request (include Authorization here if needed)</small>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Swagger UI</label>
                            <a id="swagger-ui-link" class="form-link" target="_blank" rel="noopener">Define host and port to enable Swagger UI link</a>
                            <small id="swagger-ui-link-hint" class="form-help">We build this link from your saved connection details.</small>
                        </div>
                        <div class="form-group">
                            <label class="form-label">
                                <input type="checkbox" id="cache-enabled"> Enable Cache </label>
                        </div>
                        <div class="form-group">
                            <label class="form-label">
                                <input type="checkbox" id="auto-connect-enabled" checked> Auto-connect on launch
                            </label>
                            <small class="form-help">When enabled the dashboard reconnects automatically using saved settings</small>
                        </div>
                    </div>
                </div>
                
                <div style="margin-top: var(--space-6); text-align: center;">
                    <button class="btn btn-primary" onclick="saveSettings()">
                        <svg class="icon" aria-hidden="true" focusable="false"><use href="#icon-save"></use></svg>
                        <span>Save Settings</span>
                    </button>
                    <button class="btn btn-secondary" onclick="resetSettings()">
                        <svg class="icon" aria-hidden="true" focusable="false"><use href="#icon-refresh"></use></svg>
                        <span>Reset to Defaults</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- MODAL FOR ADDING/EDITING MAPPINGS -->
    <div id="add-mapping-modal" class="modal hidden">
        <div class="modal-content">
            <button class="modal-close" type="button" onclick="hideModal('add-mapping-modal')" aria-label="Close add mapping modal">
                <svg class="icon icon-16" aria-hidden="true" focusable="false">
                    <use href="#icon-x-circle"></use>
                </svg>
                <span class="sr-only">Close</span>
            </button>
            <div class="modal-header">
                <div class="modal-header-main">
                    <h3 id="modal-title">Add New Mapping</h3>
                </div>
                <div class="modal-header-actions">
                    <button type="button" class="btn btn-primary" onclick="saveMappingWrapper()">
                        <span class="btn-label">Save Mapping</span>
                    </button>
                </div>
            </div>
            <form id="mapping-form">
                <input type="hidden" id="mapping-id">
                
                <div class="form-group">
                    <label class="form-label">Mapping Name</label>
                    <input type="text" class="form-input" id="mapping-name" placeholder="Enter mapping name">
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">Method</label>
                        <select class="form-select" id="method">
                            <option value="GET">GET</option>
                            <option value="POST">POST</option>
                            <option value="PUT">PUT</option>
                            <option value="DELETE">DELETE</option>
                            <option value="PATCH">PATCH</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">URL Pattern</label>
                        <input type="text" class="form-input" id="url-pattern" placeholder="/api/users" required>
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Response Status</label>
                    <input type="number" class="form-input" id="response-status" value="200" min="100" max="599">
                </div>
                
                <div class="form-group">
                    <label class="form-label">Response Body</label>
                    <textarea class="form-textarea" id="response-body" rows="6" placeholder='{ "message": "Hello World" }'></textarea>
                </div>
            </form>
        </div>
    </div>

    <!-- MODAL FOR EDITING MAPPINGS -->
    <div id="edit-mapping-modal" class="modal hidden">
        <div class="modal-content">
            <button class="modal-close" type="button" onclick="hideModal('edit-mapping-modal')" aria-label="Close edit mapping modal">
                <svg class="icon icon-16" aria-hidden="true" focusable="false">
                    <use href="#icon-x-circle"></use>
                </svg>
                <span class="sr-only">Close</span>
            </button>
            <div class="modal-header">
                <div class="modal-header-main">
                    <h3 id="edit-modal-title">Edit Mapping</h3>
                    <span id="editor-dirty-indicator" class="dirty-indicator" style="display: none;"> Unsaved changes</span>
                </div>
                <div class="modal-header-actions">
                    <button type="button" class="btn btn-secondary" id="open-json-studio-btn" title="Open in advanced JSON Studio editor">
                        <svg class="icon icon-16" aria-hidden="true" focusable="false">
                            <use href="#icon-open-external"></use>
                        </svg>
                        <span class="btn-label">JSON Studio</span>
                    </button>
                    <button type="button" class="btn btn-secondary btn-sm" data-action="format-json">Format</button>
                    <button type="button" class="btn btn-secondary btn-sm" data-action="minify-json">Minify</button>
                    <button type="button" class="btn btn-primary" id="update-mapping-btn" onclick="updateMapping()">
                        <span class="btn-label">Update Mapping</span>
                        <span class="btn-spinner loading-spinner" aria-hidden="true"></span>
                    </button>
                </div>
            </div>

            <!-- Template Selection Section -->
            <div id="mapping-template-section" class="template-section" style="display: none;">
                <div class="template-header">
                    <h4>Create from Template</h4>
                    <button type="button" class="btn btn-sm btn-secondary" onclick="toggleTemplateSection()">
                        <span id="template-toggle-text">Hide Templates</span>
                    </button>
                </div>
                <div id="mapping-template-grid" class="template-grid"></div>
                <div id="mapping-template-empty" class="template-empty" style="display: none;">
                    No templates available
                </div>
            </div>

            <!-- JSON Editor Container -->
            <div id="json-editor-container" class="json-editor-wrapper">
                <textarea id="json-editor" class="json-editor" rows="1" placeholder="{
  \"name\": \"My Mapping\",
  \"request\": {
    \"method\": \"GET\",
    \"url\": \"/api/example\"
  },
  \"response\": {
    \"status\": 200,
    \"body\": \"{\\\"message\\\":\\\"Hello World\\\"}\",
    \"headers\": {
      \"Content-Type\": \"application/json\"
    }
  }
}"></textarea>
            </div>
        </div>
    </div>

    <!-- MODAL FOR REQUEST DETAILS -->
    <div id="request-details-modal" class="modal hidden">
        <div class="modal-content">
            <button class="modal-close" type="button" onclick="hideModal('request-details-modal')" aria-label="Close request details modal">
                <svg class="icon icon-16" aria-hidden="true" focusable="false">
                    <use href="#icon-x-circle"></use>
                </svg>
                <span class="sr-only">Close</span>
            </button>
            <div class="modal-header">
                <h3>Request Details</h3>
            </div>
            <div class="modal-body">
                <div id="request-details-content">
                    <!-- Request details will be populated here -->
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" onclick="hideModal('request-details-modal')">Close</button>
            </div>
        </div>
    </div>

    <!-- MODAL FOR MAPPING DETAILS -->
    <div id="mapping-details-modal" class="modal hidden">
        <div class="modal-content">
            <button class="modal-close" type="button" onclick="hideModal('mapping-details-modal')" aria-label="Close mapping details modal">
                <svg class="icon icon-16" aria-hidden="true" focusable="false">
                    <use href="#icon-x-circle"></use>
                </svg>
                <span class="sr-only">Close</span>
            </button>
            <div class="modal-header">
                <h3>Mapping Details</h3>
            </div>
            <div class="modal-body">
                <div id="mapping-details-content">
                    <!-- Mapping details will be populated here -->
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" onclick="hideModal('mapping-details-modal')">Close</button>
            </div>
        </div>
    </div>

    <div id="onboarding-overlay" class="onboarding-overlay hidden" role="dialog" aria-modal="true" aria-labelledby="onboarding-title">
        <div class="onboarding-panel">
            <div class="onboarding-header">
                <h2 id="onboarding-title">Welcome to iMock</h2>
                <p>This lightweight WireMock client is evolving fast &mdash; crafted by QA for QA teams.</p>
            </div>
            <form id="onboarding-form" class="onboarding-form">
                <div class="onboarding-group">
                    <label for="onboarding-host">WireMock URL</label>
                    <input id="onboarding-host" type="text" class="form-input" placeholder="https://mock.example.com" required>
                </div>
                <div class="onboarding-group">
                    <label for="onboarding-port">Port</label>
                    <input id="onboarding-port" type="number" class="form-input" min="1" max="65535" placeholder="8080">
                </div>
                <div class="onboarding-group">
                    <label for="onboarding-headers">Custom Headers (optional)</label>
                    <textarea id="onboarding-headers" class="form-input" rows="3" placeholder='{"X-Env":"QA"}'></textarea>
                    <span class="onboarding-hint">JSON or Key: Value lines will be sent with every request.</span>
                </div>
                <div class="onboarding-toggle">
                    <label>
                        <input type="checkbox" id="onboarding-auto-connect" checked>
                        Auto-connect on this device
                    </label>
                </div>
                <button type="submit" class="btn btn-primary onboarding-submit">Save &amp; Connect</button>
            </form>
            <p class="onboarding-footnote">Drop in your server details, first fetch may take time because of cache building.</p>
            <p class="onboarding-footnote2">*it's higly recomended to keep one source of changes in stubs, to keep cache data consistent.</p>
        </div>
    </div>

<!-- JavaScript modules in loading order -->
<script src="js/vendor-js-yaml.min.js"></script>
<script src="js/core.js"></script>
<script src="js/managers.js"></script>
<script src="js/demo-data.js"></script>
<script src="js/features/state.js"></script>
<script src="js/features/utils.js"></script>
<script src="js/features/queryParser.js"></script>
<script src="js/features/filters.js"></script>
<script src="js/features/filter-presets.js"></script>
<script src="js/features/cache.js"></script>
<!-- Virtual Scroller Component -->
<script src="js/components/virtual-scroller.js"></script>
<script src="js/features/mappings.js"></script>
<script src="js/features/mappings-virtual-scroller-integration.js"></script>
<script src="js/features/pagination.js"></script>
<script src="js/features/event-delegation.js"></script>
<script src="js/features/requests.js"></script>
<script src="js/features/requests-virtual-scroller-integration.js"></script>
<script src="js/features/near-misses.js"></script>
<script src="js/features/scenarios.js"></script>
<script src="js/features/recording.js"></script>
<script src="js/features/management.js"></script>
<script src="js/features/request-api.js"></script>
<script src="js/features/wiremock-extras.js"></script>
<script src="js/features/demo.js"></script>
<script src="js/features.js"></script>
<!-- Mapping Templates -->
<script src="js/templates/mapping-templates.js"></script>
<script src="js/editor.js"></script>
<script src="js/main.js"></script>

</body>
</html>
